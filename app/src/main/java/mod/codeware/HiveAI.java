package mod.codeware;

import androidx.annotation.NonNull;

import com.google.ai.client.generativeai.GenerativeModel;
import com.google.ai.client.generativeai.java.GenerativeModelFutures;
import com.google.ai.client.generativeai.type.Content;
import com.google.ai.client.generativeai.type.GenerateContentResponse;
import com.google.ai.client.generativeai.type.GenerationConfig;
import com.google.common.util.concurrent.FutureCallback;
import com.google.common.util.concurrent.Futures;
import com.google.common.util.concurrent.ListenableFuture;

import java.util.Objects;
import java.util.concurrent.Executor;
import java.util.concurrent.Executors;

public class HiveAI {
    private static final String TAG = "GenerativeAI";
    private final String apiKey = "AIzaSyB7PhMG67AJQi_EMC1WP5AJNCVsT4RqBqs";

    public void generateCode(String question, CodeHiveListener codeHiveListener) {

        String prompt = "You are an experienced Android Java code generator, capable of providing professional and error-free code snippets. When asked for code, your responses should exclude any documentation or explanations, and instead focus on providing the requested functions or statements. Only give function if i asked, else give as statement. Code must not contains kotlin. Here's the question :" + question.trim();

        // For text-only input, use the gemini-pro model
        GenerativeModel gm = new GenerativeModel("gemini-1.0-pro",
                // Paste your API key here
                apiKey);
        GenerativeModelFutures model = GenerativeModelFutures.from(gm);


        Content content = new Content.Builder().addText(prompt).build();


        Executor executor = Executors.newSingleThreadExecutor();
        ListenableFuture<GenerateContentResponse> response = model.generateContent(content);
        Futures.addCallback(response, new FutureCallback<>() {
            @Override
            public void onSuccess(GenerateContentResponse result) {
                String code = result.getText();
                assert code != null;
                if (getFirstWord(code).contains("```")) {
                    code = code.replace(getFirstWord(code), "");
                }
                codeHiveListener.onSuccess(code.replace("```", "").trim());
            }

            @Override
            public void onFailure(@NonNull Throwable t) {
                t.printStackTrace();
            }
        }, executor);

    }

    public void generateView(String question, CodeHiveListener codeHiveListener) {
        String prompt = "i created an android application to build android apps, its is user friendly and user can create android ui using drag and drop. if user drag and drop ui elements, it is saved as json file and from that json the xml source code is generated. every component is saved as a json object below another but not as a list. a sample json object is given below\n\n{\"adSize\":\"\",\"adUnitId\":\"\",\"alpha\":1.0,\"checked\":0,\"choiceMode\":0,\"clickable\":1,\"convert\":\"ScrollView\",\"customView\":\"\",\"dividerHeight\":1,\"enabled\":1,\"firstDayOfWeek\":1,\"id\":\"vscroll1\",\"image\":{\"rotate\":0,\"scaleType\":\"CENTER\"},\"indeterminate\":\"false\",\"index\":0,\"inject\":\"\",\"layout\":{\"backgroundColor\":16777215,\"borderColor\":-16740915,\"gravity\":0,\"height\":-1,\"layoutGravity\":0,\"marginBottom\":0,\"marginLeft\":0,\"marginRight\":0,\"marginTop\":0,\"orientation\":-1,\"paddingBottom\":0,\"paddingLeft\":0,\"paddingRight\":0,\"paddingTop\":0,\"weight\":0,\"weightSum\":0,\"width\":-1},\"max\":100,\"parent\":\"root\",\"parentType\":0,\"preId\":\"vscroll1\",\"preIndex\":0,\"preParentType\":0,\"progress\":0,\"progressStyle\":\"?android:progressBarStyle\",\"scaleX\":1.0,\"scaleY\":1.0,\"spinnerMode\":1,\"text\":{\"hint\":\"\",\"hintColor\":-10453621,\"imeOption\":0,\"inputType\":1,\"line\":0,\"singleLine\":0,\"text\":\"\",\"textColor\":-16777216,\"textFont\":\"default_font\",\"textSize\":12,\"textType\":0},\"translationX\":0.0,\"translationY\":0.0,\"type\":12}\n\nall added components will have all the fields above and only that fields\n\nhere is the various attributes related to layout and orientation\n\nGRAVITY_BOTTOM = 80;\nGRAVITY_CENTER = 17;\nGRAVITY_CENTER_HORIZONTAL = 1;\nGRAVITY_CENTER_VERTICAL = 16;\nGRAVITY_LEFT = 3;\nGRAVITY_NONE = 0;\nGRAVITY_RIGHT = 5;\nGRAVITY_TOP = 48;\nLAYOUT_MATCH_PARENT = -1;\nLAYOUT_WRAP_CONTENT = -2;\nORIENTATION_HORIZONTAL = 0;\nORIENTATION_NONE = -1;\nORIENTATION_VERTICAL = 1;\n\nuse values from above. if the layout have gravity of GRAVITY_BOTTOM and GRAVITY_LEFT use value 83 (that is 80  + 3), use only 2 gravity property, and also for layout_gravity.\n\nbelow are the scale types of image\n\nCENTER\nCENTER_CROP\nCENTER_INSIDE\nFIT_CENTER\nFIT_END\nFIT_START\nFIT_XY\n\nbelow are the views and type of that view, you can only use these views\n\nLinearLayout = 0\nHorizontalScrollView = 2\nButton = 3\nTextView = 4\nEditText = 5\nImageView = 6\nWebView = 7\nProgressBar = 8\nListView = 9\nSpinner = 10\nCheckBox = 11\nScrollView = 12\nSwitch = 13\nSeekBar = 14\nCalendarView = 15\nAdView = 17\nMapView = 18\n\nuse color integer value\n\nbelow is some example of json and the xml generated from the json :-\n\nexample json 1:-\n\n{\"adSize\":\"\",\"adUnitId\":\"\",\"alpha\":1.0,\"checked\":0,\"choiceMode\":0,\"clickable\":1,\"convert\":\"LinearLayout\",\"customView\":\"\",\"dividerHeight\":1,\"enabled\":1,\"firstDayOfWeek\":1,\"id\":\"linear1\",\"image\":{\"rotate\":0,\"scaleType\":\"CENTER\"},\"indeterminate\":\"false\",\"index\":0,\"inject\":\"\",\"layout\":{\"backgroundColor\":16777215,\"borderColor\":-16740915,\"gravity\":0,\"height\":-1,\"layoutGravity\":0,\"marginBottom\":0,\"marginLeft\":0,\"marginRight\":0,\"marginTop\":0,\"orientation\":1,\"paddingBottom\":8,\"paddingLeft\":8,\"paddingRight\":8,\"paddingTop\":8,\"weight\":0,\"weightSum\":0,\"width\":-1},\"max\":100,\"parent\":\"root\",\"parentType\":0,\"preId\":\"linear1\",\"preIndex\":0,\"preParentType\":0,\"progress\":0,\"progressStyle\":\"?android:progressBarStyle\",\"scaleX\":1.0,\"scaleY\":1.0,\"spinnerMode\":1,\"text\":{\"hint\":\"\",\"hintColor\":-10453621,\"imeOption\":0,\"inputType\":1,\"line\":0,\"singleLine\":0,\"text\":\"\",\"textColor\":-16777216,\"textFont\":\"default_font\",\"textSize\":12,\"textType\":0},\"translationX\":0.0,\"translationY\":0.0,\"type\":0}\n{\"adSize\":\"\",\"adUnitId\":\"\",\"alpha\":1.0,\"checked\":0,\"choiceMode\":0,\"clickable\":1,\"convert\":\"ListView\",\"customView\":\"none\",\"dividerHeight\":1,\"enabled\":1,\"firstDayOfWeek\":1,\"id\":\"listview1\",\"image\":{\"rotate\":0,\"scaleType\":\"CENTER\"},\"indeterminate\":\"false\",\"index\":0,\"inject\":\"\",\"layout\":{\"backgroundColor\":16777215,\"borderColor\":-16740915,\"gravity\":0,\"height\":-2,\"layoutGravity\":0,\"marginBottom\":0,\"marginLeft\":0,\"marginRight\":0,\"marginTop\":0,\"orientation\":-1,\"paddingBottom\":8,\"paddingLeft\":8,\"paddingRight\":8,\"paddingTop\":8,\"weight\":1,\"weightSum\":0,\"width\":-1},\"max\":100,\"parent\":\"linear1\",\"parentType\":0,\"preId\":\"listview1\",\"preIndex\":0,\"preParentType\":0,\"progress\":0,\"progressStyle\":\"?android:progressBarStyle\",\"scaleX\":1.0,\"scaleY\":1.0,\"spinnerMode\":1,\"text\":{\"hint\":\"\",\"hintColor\":-10453621,\"imeOption\":0,\"inputType\":1,\"line\":0,\"singleLine\":0,\"text\":\"ListView\",\"textColor\":-16777216,\"textFont\":\"default_font\",\"textSize\":12,\"textType\":0},\"translationX\":0.0,\"translationY\":0.0,\"type\":9}\n{\"adSize\":\"\",\"adUnitId\":\"\",\"alpha\":1.0,\"checked\":0,\"choiceMode\":0,\"clickable\":1,\"convert\":\"LinearLayout\",\"customView\":\"\",\"dividerHeight\":1,\"enabled\":1,\"firstDayOfWeek\":1,\"id\":\"linear2\",\"image\":{\"rotate\":0,\"scaleType\":\"CENTER\"},\"indeterminate\":\"false\",\"index\":1,\"inject\":\"\",\"layout\":{\"backgroundColor\":16777215,\"borderColor\":-16740915,\"gravity\":0,\"height\":-2,\"layoutGravity\":0,\"marginBottom\":0,\"marginLeft\":0,\"marginRight\":0,\"marginTop\":0,\"orientation\":0,\"paddingBottom\":8,\"paddingLeft\":8,\"paddingRight\":8,\"paddingTop\":8,\"weight\":0,\"weightSum\":0,\"width\":-1},\"max\":100,\"parent\":\"linear1\",\"parentType\":0,\"preIndex\":0,\"preParentType\":0,\"progress\":0,\"progressStyle\":\"?android:progressBarStyle\",\"scaleX\":1.0,\"scaleY\":1.0,\"spinnerMode\":1,\"text\":{\"hint\":\"\",\"hintColor\":-10453621,\"imeOption\":0,\"inputType\":1,\"line\":0,\"singleLine\":0,\"text\":\"\",\"textColor\":-16777216,\"textFont\":\"default_font\",\"textSize\":12,\"textType\":0},\"translationX\":0.0,\"translationY\":0.0,\"type\":0}\n{\"adSize\":\"\",\"adUnitId\":\"\",\"alpha\":1.0,\"checked\":0,\"choiceMode\":0,\"clickable\":1,\"convert\":\"EditText\",\"customView\":\"\",\"dividerHeight\":1,\"enabled\":1,\"firstDayOfWeek\":1,\"id\":\"edittext1\",\"image\":{\"rotate\":0,\"scaleType\":\"CENTER\"},\"indeterminate\":\"false\",\"index\":0,\"inject\":\"\",\"layout\":{\"backgroundColor\":16777215,\"borderColor\":-16740915,\"gravity\":0,\"height\":-2,\"layoutGravity\":0,\"marginBottom\":0,\"marginLeft\":0,\"marginRight\":0,\"marginTop\":0,\"orientation\":-1,\"paddingBottom\":8,\"paddingLeft\":8,\"paddingRight\":8,\"paddingTop\":8,\"weight\":1,\"weightSum\":0,\"width\":-2},\"max\":100,\"parent\":\"linear2\",\"parentType\":0,\"preId\":\"edittext1\",\"preIndex\":0,\"preParentType\":0,\"progress\":0,\"progressStyle\":\"?android:progressBarStyle\",\"scaleX\":1.0,\"scaleY\":1.0,\"spinnerMode\":1,\"text\":{\"hint\":\"Edit Text\",\"hintColor\":-10453621,\"imeOption\":0,\"inputType\":1,\"line\":0,\"singleLine\":0,\"text\":\"\",\"textColor\":-16777216,\"textFont\":\"default_font\",\"textSize\":12,\"textType\":0},\"translationX\":0.0,\"translationY\":0.0,\"type\":5}\n{\"adSize\":\"\",\"adUnitId\":\"\",\"alpha\":1.0,\"checked\":0,\"choiceMode\":0,\"clickable\":1,\"convert\":\"Button\",\"customView\":\"\",\"dividerHeight\":1,\"enabled\":1,\"firstDayOfWeek\":1,\"id\":\"button1\",\"image\":{\"rotate\":0,\"scaleType\":\"CENTER\"},\"indeterminate\":\"false\",\"index\":1,\"inject\":\"\",\"layout\":{\"backgroundColor\":16777215,\"borderColor\":-16740915,\"gravity\":0,\"height\":-2,\"layoutGravity\":0,\"marginBottom\":0,\"marginLeft\":0,\"marginRight\":0,\"marginTop\":0,\"orientation\":-1,\"paddingBottom\":8,\"paddingLeft\":8,\"paddingRight\":8,\"paddingTop\":8,\"weight\":0,\"weightSum\":0,\"width\":-2},\"max\":100,\"parent\":\"linear2\",\"parentType\":0,\"preIndex\":0,\"preParentType\":0,\"progress\":0,\"progressStyle\":\"?android:progressBarStyle\",\"scaleX\":1.0,\"scaleY\":1.0,\"spinnerMode\":1,\"text\":{\"hint\":\"\",\"hintColor\":-10453621,\"imeOption\":0,\"inputType\":1,\"line\":0,\"singleLine\":0,\"text\":\"Button\",\"textColor\":-16777216,\"textFont\":\"default_font\",\"textSize\":12,\"textType\":0},\"translationX\":0.0,\"translationY\":0.0,\"type\":3}\n\nxml that will be generated from above json:-\n\n<LinearLayout\n    android:id=\"@+id/linear1\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:padding=\"8dp\"\n    android:orientation=\"vertical\">\n\n    <ListView\n        android:id=\"@+id/listview1\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:padding=\"8dp\"\n        android:choiceMode=\"none\"\n        android:layout_weight=\"1\" />\n\n    <LinearLayout\n        android:id=\"@+id/linear2\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:padding=\"8dp\"\n        android:orientation=\"horizontal\">\n\n        <EditText\n            android:id=\"@+id/edittext1\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:padding=\"8dp\"\n            android:textSize=\"12sp\"\n            android:textColor=\"#000000\"\n            android:hint=\"Edit Text\"\n            android:textColorHint=\"#607D8B\"\n            android:layout_weight=\"1\" />\n\n        <Button\n            android:id=\"@+id/button1\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:padding=\"8dp\"\n            android:text=\"Button\"\n            android:textSize=\"12sp\"\n            android:textColor=\"#000000\" />\n\n    </LinearLayout>\n\n</LinearLayout>\n\n\t\nexample json 2:-\n\n{\"adSize\":\"\",\"adUnitId\":\"\",\"alpha\":1.0,\"checked\":0,\"choiceMode\":0,\"clickable\":1,\"convert\":\"LinearLayout\",\"customView\":\"\",\"dividerHeight\":1,\"enabled\":1,\"firstDayOfWeek\":1,\"id\":\"linear1\",\"image\":{\"rotate\":0,\"scaleType\":\"CENTER\"},\"indeterminate\":\"false\",\"index\":0,\"inject\":\"\",\"layout\":{\"backgroundColor\":16777215,\"borderColor\":-16740915,\"gravity\":17,\"height\":-1,\"layoutGravity\":0,\"marginBottom\":0,\"marginLeft\":0,\"marginRight\":0,\"marginTop\":0,\"orientation\":1,\"paddingBottom\":8,\"paddingLeft\":8,\"paddingRight\":8,\"paddingTop\":8,\"weight\":0,\"weightSum\":0,\"width\":-1},\"max\":100,\"parent\":\"root\",\"parentType\":0,\"preId\":\"linear1\",\"preIndex\":0,\"preParentType\":0,\"progress\":0,\"progressStyle\":\"?android:progressBarStyle\",\"scaleX\":1.0,\"scaleY\":1.0,\"spinnerMode\":1,\"text\":{\"hint\":\"\",\"hintColor\":-10453621,\"imeOption\":0,\"inputType\":1,\"line\":0,\"singleLine\":0,\"text\":\"\",\"textColor\":-16777216,\"textFont\":\"default_font\",\"textSize\":12,\"textType\":0},\"translationX\":0.0,\"translationY\":0.0,\"type\":0}\n{\"adSize\":\"\",\"adUnitId\":\"\",\"alpha\":1.0,\"checked\":0,\"choiceMode\":0,\"clickable\":1,\"convert\":\"TextView\",\"customView\":\"\",\"dividerHeight\":1,\"enabled\":1,\"firstDayOfWeek\":1,\"id\":\"textview2\",\"image\":{\"rotate\":0,\"scaleType\":\"CENTER\"},\"indeterminate\":\"false\",\"index\":0,\"inject\":\"\",\"layout\":{\"backgroundColor\":16777215,\"borderColor\":-16740915,\"gravity\":0,\"height\":-2,\"layoutGravity\":0,\"marginBottom\":0,\"marginLeft\":0,\"marginRight\":0,\"marginTop\":0,\"orientation\":-1,\"paddingBottom\":8,\"paddingLeft\":8,\"paddingRight\":8,\"paddingTop\":8,\"weight\":0,\"weightSum\":0,\"width\":-2},\"max\":100,\"parent\":\"linear1\",\"parentType\":0,\"preId\":\"textview2\",\"preIndex\":0,\"preParentType\":0,\"progress\":0,\"progressStyle\":\"?android:progressBarStyle\",\"scaleX\":1.0,\"scaleY\":1.0,\"spinnerMode\":1,\"text\":{\"hint\":\"\",\"hintColor\":-10453621,\"imeOption\":0,\"inputType\":1,\"line\":0,\"singleLine\":0,\"text\":\"Click to get started\",\"textColor\":-16777216,\"textFont\":\"default_font\",\"textSize\":30,\"textType\":1},\"translationX\":0.0,\"translationY\":0.0,\"type\":4}\n{\"adSize\":\"\",\"adUnitId\":\"\",\"alpha\":1.0,\"checked\":0,\"choiceMode\":0,\"clickable\":1,\"convert\":\"Button\",\"customView\":\"\",\"dividerHeight\":1,\"enabled\":1,\"firstDayOfWeek\":1,\"id\":\"button1\",\"image\":{\"rotate\":0,\"scaleType\":\"CENTER\"},\"indeterminate\":\"false\",\"index\":1,\"inject\":\"\",\"layout\":{\"backgroundColor\":16777215,\"borderColor\":-16740915,\"gravity\":0,\"height\":-2,\"layoutGravity\":0,\"marginBottom\":0,\"marginLeft\":0,\"marginRight\":0,\"marginTop\":0,\"orientation\":-1,\"paddingBottom\":8,\"paddingLeft\":8,\"paddingRight\":8,\"paddingTop\":8,\"weight\":0,\"weightSum\":0,\"width\":-2},\"max\":100,\"parent\":\"linear1\",\"parentType\":0,\"preId\":\"button1\",\"preIndex\":0,\"preParentType\":0,\"progress\":0,\"progressStyle\":\"?android:progressBarStyle\",\"scaleX\":1.0,\"scaleY\":1.0,\"spinnerMode\":1,\"text\":{\"hint\":\"\",\"hintColor\":-10453621,\"imeOption\":0,\"inputType\":1,\"line\":0,\"singleLine\":0,\"text\":\"Start\",\"textColor\":-16777216,\"textFont\":\"default_font\",\"textSize\":12,\"textType\":0},\"translationX\":0.0,\"translationY\":0.0,\"type\":3}\n\nxml that will be generated from above json:-\n\n<LinearLayout\n    android:id=\"@+id/linear1\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:padding=\"8dp\"\n    android:gravity=\"center_horizontal|center_vertical\"\n    android:orientation=\"vertical\">\n\n    <TextView\n        android:id=\"@+id/textview2\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:padding=\"8dp\"\n        android:text=\"Click to get started\"\n        android:textSize=\"30sp\"\n        android:textStyle=\"bold\"\n        android:textColor=\"#000000\" />\n\n    <Button\n        android:id=\"@+id/button1\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:padding=\"8dp\"\n        android:text=\"Start\"\n        android:textSize=\"12sp\"\n        android:textColor=\"#000000\" />\n\n</LinearLayout>\n\n\nexample json 3:-\n\n{\"adSize\":\"\",\"adUnitId\":\"\",\"alpha\":1.0,\"checked\":0,\"choiceMode\":0,\"clickable\":1,\"convert\":\"LinearLayout\",\"customView\":\"\",\"dividerHeight\":1,\"enabled\":1,\"firstDayOfWeek\":1,\"id\":\"linear1\",\"image\":{\"rotate\":0,\"scaleType\":\"CENTER\"},\"indeterminate\":\"false\",\"index\":0,\"inject\":\"\",\"layout\":{\"backgroundColor\":16777215,\"borderColor\":-16740915,\"gravity\":17,\"height\":-1,\"layoutGravity\":0,\"marginBottom\":0,\"marginLeft\":0,\"marginRight\":0,\"marginTop\":0,\"orientation\":1,\"paddingBottom\":8,\"paddingLeft\":8,\"paddingRight\":8,\"paddingTop\":8,\"weight\":0,\"weightSum\":0,\"width\":-1},\"max\":100,\"parent\":\"root\",\"parentType\":0,\"preId\":\"linear1\",\"preIndex\":0,\"preParentType\":0,\"progress\":0,\"progressStyle\":\"?android:progressBarStyle\",\"scaleX\":1.0,\"scaleY\":1.0,\"spinnerMode\":1,\"text\":{\"hint\":\"\",\"hintColor\":-10453621,\"imeOption\":0,\"inputType\":1,\"line\":0,\"singleLine\":0,\"text\":\"\",\"textColor\":-16777216,\"textFont\":\"default_font\",\"textSize\":12,\"textType\":0},\"translationX\":0.0,\"translationY\":0.0,\"type\":0}\n{\"adSize\":\"\",\"adUnitId\":\"\",\"alpha\":1.0,\"checked\":0,\"choiceMode\":0,\"clickable\":1,\"convert\":\"LinearLayout\",\"customView\":\"\",\"dividerHeight\":1,\"enabled\":1,\"firstDayOfWeek\":1,\"id\":\"linear2\",\"image\":{\"rotate\":0,\"scaleType\":\"CENTER\"},\"indeterminate\":\"false\",\"index\":0,\"inject\":\"\",\"layout\":{\"backgroundColor\":16777215,\"borderColor\":-16740915,\"gravity\":17,\"height\":-2,\"layoutGravity\":0,\"marginBottom\":0,\"marginLeft\":0,\"marginRight\":0,\"marginTop\":0,\"orientation\":1,\"paddingBottom\":8,\"paddingLeft\":8,\"paddingRight\":8,\"paddingTop\":8,\"weight\":1,\"weightSum\":0,\"width\":-1},\"max\":100,\"parent\":\"linear1\",\"parentType\":0,\"preId\":\"linear2\",\"preIndex\":0,\"preParentType\":0,\"progress\":0,\"progressStyle\":\"?android:progressBarStyle\",\"scaleX\":1.0,\"scaleY\":1.0,\"spinnerMode\":1,\"text\":{\"hint\":\"\",\"hintColor\":-10453621,\"imeOption\":0,\"inputType\":1,\"line\":0,\"singleLine\":0,\"text\":\"\",\"textColor\":-16777216,\"textFont\":\"default_font\",\"textSize\":12,\"textType\":0},\"translationX\":0.0,\"translationY\":0.0,\"type\":0}\n{\"adSize\":\"\",\"adUnitId\":\"\",\"alpha\":1.0,\"checked\":0,\"choiceMode\":0,\"clickable\":1,\"convert\":\"LinearLayout\",\"customView\":\"\",\"dividerHeight\":1,\"enabled\":1,\"firstDayOfWeek\":1,\"id\":\"linear3\",\"image\":{\"rotate\":0,\"scaleType\":\"CENTER\"},\"indeterminate\":\"false\",\"index\":1,\"inject\":\"\",\"layout\":{\"backgroundColor\":16777215,\"borderColor\":-16740915,\"gravity\":17,\"height\":-2,\"layoutGravity\":0,\"marginBottom\":0,\"marginLeft\":0,\"marginRight\":0,\"marginTop\":0,\"orientation\":0,\"paddingBottom\":8,\"paddingLeft\":8,\"paddingRight\":8,\"paddingTop\":8,\"weight\":0,\"weightSum\":0,\"width\":-1},\"max\":100,\"parent\":\"linear1\",\"parentType\":0,\"preId\":\"linear3\",\"preIndex\":0,\"preParentType\":0,\"progress\":0,\"progressStyle\":\"?android:progressBarStyle\",\"scaleX\":1.0,\"scaleY\":1.0,\"spinnerMode\":1,\"text\":{\"hint\":\"\",\"hintColor\":-10453621,\"imeOption\":0,\"inputType\":1,\"line\":0,\"singleLine\":0,\"text\":\"\",\"textColor\":-16777216,\"textFont\":\"default_font\",\"textSize\":12,\"textType\":0},\"translationX\":0.0,\"translationY\":0.0,\"type\":0}\n{\"adSize\":\"\",\"adUnitId\":\"\",\"alpha\":1.0,\"checked\":0,\"choiceMode\":0,\"clickable\":1,\"convert\":\"ImageView\",\"customView\":\"\",\"dividerHeight\":1,\"enabled\":1,\"firstDayOfWeek\":1,\"id\":\"imageview1\",\"image\":{\"resName\":\"default_image\",\"rotate\":0,\"scaleType\":\"CENTER\"},\"indeterminate\":\"false\",\"index\":0,\"inject\":\"\",\"layout\":{\"backgroundColor\":16777215,\"borderColor\":-16740915,\"gravity\":0,\"height\":100,\"layoutGravity\":0,\"marginBottom\":0,\"marginLeft\":0,\"marginRight\":0,\"marginTop\":0,\"orientation\":-1,\"paddingBottom\":0,\"paddingLeft\":0,\"paddingRight\":0,\"paddingTop\":0,\"weight\":0,\"weightSum\":0,\"width\":100},\"max\":100,\"parent\":\"linear2\",\"parentType\":0,\"preId\":\"\",\"preIndex\":-1,\"preParent\":\"\",\"preParentType\":-1,\"progress\":0,\"progressStyle\":\"?android:progressBarStyle\",\"scaleX\":1.0,\"scaleY\":1.0,\"spinnerMode\":1,\"text\":{\"hint\":\"\",\"hintColor\":-10453621,\"imeOption\":0,\"inputType\":1,\"line\":0,\"singleLine\":0,\"text\":\"\",\"textColor\":-16777216,\"textFont\":\"default_font\",\"textSize\":12,\"textType\":0},\"translationX\":0.0,\"translationY\":0.0,\"type\":6}\n{\"adSize\":\"\",\"adUnitId\":\"\",\"alpha\":1.0,\"checked\":0,\"choiceMode\":0,\"clickable\":1,\"convert\":\"TextView\",\"customView\":\"\",\"dividerHeight\":1,\"enabled\":1,\"firstDayOfWeek\":1,\"id\":\"textview3\",\"image\":{\"rotate\":0,\"scaleType\":\"CENTER\"},\"indeterminate\":\"false\",\"index\":0,\"inject\":\"\",\"layout\":{\"backgroundColor\":16777215,\"borderColor\":-16740915,\"gravity\":0,\"height\":-2,\"layoutGravity\":0,\"marginBottom\":0,\"marginLeft\":0,\"marginRight\":0,\"marginTop\":0,\"orientation\":-1,\"paddingBottom\":8,\"paddingLeft\":8,\"paddingRight\":8,\"paddingTop\":8,\"weight\":1,\"weightSum\":0,\"width\":-2},\"max\":100,\"parent\":\"linear3\",\"parentType\":0,\"preId\":\"textview3\",\"preIndex\":-1,\"preParent\":\"\",\"preParentType\":-1,\"progress\":0,\"progressStyle\":\"?android:progressBarStyle\",\"scaleX\":1.0,\"scaleY\":1.0,\"spinnerMode\":1,\"text\":{\"hint\":\"\",\"hintColor\":-10453621,\"imeOption\":0,\"inputType\":1,\"line\":0,\"singleLine\":0,\"text\":\"Starting...\",\"textColor\":-16777216,\"textFont\":\"default_font\",\"textSize\":12,\"textType\":0},\"translationX\":0.0,\"translationY\":0.0,\"type\":4}\n{\"adSize\":\"\",\"adUnitId\":\"\",\"alpha\":1.0,\"checked\":0,\"choiceMode\":0,\"clickable\":1,\"convert\":\"ProgressBar\",\"customView\":\"\",\"dividerHeight\":1,\"enabled\":1,\"firstDayOfWeek\":1,\"id\":\"progressbar1\",\"image\":{\"rotate\":0,\"scaleType\":\"CENTER\"},\"indeterminate\":\"false\",\"index\":1,\"inject\":\"\",\"layout\":{\"backgroundColor\":16777215,\"borderColor\":-16740915,\"gravity\":0,\"height\":-2,\"layoutGravity\":0,\"marginBottom\":0,\"marginLeft\":0,\"marginRight\":0,\"marginTop\":0,\"orientation\":-1,\"paddingBottom\":8,\"paddingLeft\":8,\"paddingRight\":8,\"paddingTop\":8,\"weight\":0,\"weightSum\":0,\"width\":-2},\"max\":100,\"parent\":\"linear3\",\"parentType\":0,\"preId\":\"progressbar1\",\"preIndex\":0,\"preParentType\":0,\"progress\":0,\"progressStyle\":\"?android:progressBarStyle\",\"scaleX\":1.0,\"scaleY\":1.0,\"spinnerMode\":1,\"text\":{\"hint\":\"\",\"hintColor\":-10453621,\"imeOption\":0,\"inputType\":1,\"line\":0,\"singleLine\":0,\"text\":\"ProgressBar\",\"textColor\":-16777216,\"textFont\":\"default_font\",\"textSize\":12,\"textType\":0},\"translationX\":0.0,\"translationY\":0.0,\"type\":8}\n\nxml that will be generated from above json:-\n\n<LinearLayout\n    android:id=\"@+id/linear1\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:padding=\"8dp\"\n    android:gravity=\"center_horizontal|center_vertical\"\n    android:orientation=\"vertical\">\n\n    <LinearLayout\n        android:id=\"@+id/linear2\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:padding=\"8dp\"\n        android:gravity=\"center_horizontal|center_vertical\"\n        android:orientation=\"vertical\"\n        android:layout_weight=\"1\">\n\n        <ImageView\n            android:id=\"@+id/imageview1\"\n            android:layout_width=\"100dp\"\n            android:layout_height=\"100dp\"\n            android:src=\"@drawable/default_image\"\n            android:scaleType=\"center\" />\n\n    </LinearLayout>\n\n    <LinearLayout\n        android:id=\"@+id/linear3\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:padding=\"8dp\"\n        android:gravity=\"center_horizontal|center_vertical\"\n        android:orientation=\"horizontal\">\n\n        <TextView\n            android:id=\"@+id/textview3\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:padding=\"8dp\"\n            android:text=\"Starting...\"\n            android:textSize=\"12sp\"\n            android:textColor=\"#000000\"\n            android:layout_weight=\"1\" />\n\n        <ProgressBar\n            android:id=\"@+id/progressbar1\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:padding=\"8dp\"\n            android:indeterminate=\"false\"\n            style=\"?android:progressBarStyle\" />\n\n    </LinearLayout>\n\n</LinearLayout>\n\n\nexample json 4:-\n\n{\"adSize\":\"\",\"adUnitId\":\"\",\"alpha\":1.0,\"checked\":0,\"choiceMode\":0,\"clickable\":1,\"convert\":\"LinearLayout\",\"customView\":\"\",\"dividerHeight\":1,\"enabled\":1,\"firstDayOfWeek\":1,\"id\":\"linear1\",\"image\":{\"rotate\":0,\"scaleType\":\"CENTER\"},\"indeterminate\":\"false\",\"index\":0,\"inject\":\"\",\"layout\":{\"backgroundColor\":-4520,\"borderColor\":-16740915,\"gravity\":0,\"height\":-1,\"layoutGravity\":0,\"marginBottom\":0,\"marginLeft\":0,\"marginRight\":0,\"marginTop\":0,\"orientation\":1,\"paddingBottom\":0,\"paddingLeft\":8,\"paddingRight\":0,\"paddingTop\":0,\"weight\":0,\"weightSum\":0,\"width\":-1},\"max\":100,\"parent\":\"root\",\"parentType\":0,\"preId\":\"linear1\",\"preIndex\":0,\"preParentType\":0,\"progress\":0,\"progressStyle\":\"?android:progressBarStyle\",\"scaleX\":1.0,\"scaleY\":1.0,\"spinnerMode\":1,\"text\":{\"hint\":\"\",\"hintColor\":-10453621,\"imeOption\":0,\"inputType\":1,\"line\":0,\"singleLine\":0,\"text\":\"\",\"textColor\":-16777216,\"textFont\":\"default_font\",\"textSize\":12,\"textType\":0},\"translationX\":0.0,\"translationY\":0.0,\"type\":0}\n{\"adSize\":\"\",\"adUnitId\":\"\",\"alpha\":1.0,\"checked\":0,\"choiceMode\":0,\"clickable\":1,\"convert\":\"TextView\",\"customView\":\"\",\"dividerHeight\":1,\"enabled\":1,\"firstDayOfWeek\":1,\"id\":\"textview4\",\"image\":{\"rotate\":0,\"scaleType\":\"CENTER\"},\"indeterminate\":\"false\",\"index\":0,\"inject\":\"\",\"layout\":{\"backgroundColor\":16777215,\"borderColor\":-16740915,\"gravity\":0,\"height\":-2,\"layoutGravity\":0,\"marginBottom\":0,\"marginLeft\":0,\"marginRight\":0,\"marginTop\":0,\"orientation\":-1,\"paddingBottom\":8,\"paddingLeft\":8,\"paddingRight\":8,\"paddingTop\":8,\"weight\":0,\"weightSum\":0,\"width\":-2},\"max\":100,\"parent\":\"linear1\",\"parentType\":0,\"preId\":\"textview4\",\"preIndex\":0,\"preParentType\":0,\"progress\":0,\"progressStyle\":\"?android:progressBarStyle\",\"scaleX\":1.0,\"scaleY\":1.0,\"spinnerMode\":1,\"text\":{\"hint\":\"\",\"hintColor\":-10453621,\"imeOption\":0,\"inputType\":1,\"line\":0,\"singleLine\":0,\"text\":\"Enter your name \",\"textColor\":-16777216,\"textFont\":\"default_font\",\"textSize\":12,\"textType\":0},\"translationX\":0.0,\"translationY\":0.0,\"type\":4}\n{\"adSize\":\"\",\"adUnitId\":\"\",\"alpha\":1.0,\"checked\":0,\"choiceMode\":0,\"clickable\":1,\"convert\":\"EditText\",\"customView\":\"\",\"dividerHeight\":1,\"enabled\":1,\"firstDayOfWeek\":1,\"id\":\"edittext1\",\"image\":{\"rotate\":0,\"scaleType\":\"CENTER\"},\"indeterminate\":\"false\",\"index\":1,\"inject\":\"\",\"layout\":{\"backgroundColor\":16777215,\"borderColor\":-16740915,\"gravity\":0,\"height\":-2,\"layoutGravity\":0,\"marginBottom\":0,\"marginLeft\":0,\"marginRight\":0,\"marginTop\":0,\"orientation\":-1,\"paddingBottom\":8,\"paddingLeft\":8,\"paddingRight\":8,\"paddingTop\":8,\"weight\":0,\"weightSum\":0,\"width\":-2},\"max\":100,\"parent\":\"linear1\",\"parentType\":0,\"preId\":\"edittext1\",\"preIndex\":0,\"preParentType\":0,\"progress\":0,\"progressStyle\":\"?android:progressBarStyle\",\"scaleX\":1.0,\"scaleY\":1.0,\"spinnerMode\":1,\"text\":{\"hint\":\"Name\",\"hintColor\":-10453621,\"imeOption\":0,\"inputType\":1,\"line\":0,\"singleLine\":0,\"text\":\"\",\"textColor\":-16777216,\"textFont\":\"default_font\",\"textSize\":12,\"textType\":0},\"translationX\":0.0,\"translationY\":0.0,\"type\":5}\n{\"adSize\":\"\",\"adUnitId\":\"\",\"alpha\":1.0,\"checked\":0,\"choiceMode\":0,\"clickable\":1,\"convert\":\"TextView\",\"customView\":\"\",\"dividerHeight\":1,\"enabled\":1,\"firstDayOfWeek\":1,\"id\":\"textview5\",\"image\":{\"rotate\":0,\"scaleType\":\"CENTER\"},\"indeterminate\":\"false\",\"index\":2,\"inject\":\"\",\"layout\":{\"backgroundColor\":16777215,\"borderColor\":-16740915,\"gravity\":0,\"height\":-2,\"layoutGravity\":0,\"marginBottom\":0,\"marginLeft\":0,\"marginRight\":0,\"marginTop\":0,\"orientation\":-1,\"paddingBottom\":8,\"paddingLeft\":8,\"paddingRight\":8,\"paddingTop\":8,\"weight\":0,\"weightSum\":0,\"width\":-2},\"max\":100,\"parent\":\"linear1\",\"parentType\":0,\"preId\":\"textview5\",\"preIndex\":0,\"preParentType\":0,\"progress\":0,\"progressStyle\":\"?android:progressBarStyle\",\"scaleX\":1.0,\"scaleY\":1.0,\"spinnerMode\":1,\"text\":{\"hint\":\"\",\"hintColor\":-10453621,\"imeOption\":0,\"inputType\":1,\"line\":0,\"singleLine\":0,\"text\":\"Select your age\",\"textColor\":-16777216,\"textFont\":\"default_font\",\"textSize\":12,\"textType\":0},\"translationX\":0.0,\"translationY\":0.0,\"type\":4}\n{\"adSize\":\"\",\"adUnitId\":\"\",\"alpha\":1.0,\"checked\":0,\"choiceMode\":0,\"clickable\":1,\"convert\":\"SeekBar\",\"customView\":\"\",\"dividerHeight\":1,\"enabled\":1,\"firstDayOfWeek\":1,\"id\":\"seekbar1\",\"image\":{\"rotate\":0,\"scaleType\":\"CENTER\"},\"indeterminate\":\"false\",\"index\":3,\"inject\":\"\",\"layout\":{\"backgroundColor\":16777215,\"borderColor\":-16740915,\"gravity\":0,\"height\":-2,\"layoutGravity\":0,\"marginBottom\":0,\"marginLeft\":0,\"marginRight\":0,\"marginTop\":0,\"orientation\":-1,\"paddingBottom\":8,\"paddingLeft\":8,\"paddingRight\":8,\"paddingTop\":8,\"weight\":0,\"weightSum\":0,\"width\":-1},\"max\":100,\"parent\":\"linear1\",\"parentType\":0,\"preId\":\"seekbar1\",\"preIndex\":0,\"preParentType\":0,\"progress\":18,\"progressStyle\":\"?android:progressBarStyle\",\"scaleX\":1.0,\"scaleY\":1.0,\"spinnerMode\":1,\"text\":{\"hint\":\"\",\"hintColor\":-10453621,\"imeOption\":0,\"inputType\":1,\"line\":0,\"singleLine\":0,\"text\":\"SeekBar\",\"textColor\":-16777216,\"textFont\":\"default_font\",\"textSize\":12,\"textType\":0},\"translationX\":0.0,\"translationY\":0.0,\"type\":14}\n{\"adSize\":\"\",\"adUnitId\":\"\",\"alpha\":1.0,\"checked\":0,\"choiceMode\":0,\"clickable\":1,\"convert\":\"Button\",\"customView\":\"\",\"dividerHeight\":1,\"enabled\":1,\"firstDayOfWeek\":1,\"id\":\"button2\",\"image\":{\"rotate\":0,\"scaleType\":\"CENTER\"},\"indeterminate\":\"false\",\"index\":4,\"inject\":\"\",\"layout\":{\"backgroundColor\":16777215,\"borderColor\":-16740915,\"gravity\":0,\"height\":-2,\"layoutGravity\":0,\"marginBottom\":0,\"marginLeft\":0,\"marginRight\":0,\"marginTop\":0,\"orientation\":-1,\"paddingBottom\":8,\"paddingLeft\":8,\"paddingRight\":8,\"paddingTop\":8,\"weight\":0,\"weightSum\":0,\"width\":-2},\"max\":100,\"parent\":\"linear1\",\"parentType\":0,\"preId\":\"button2\",\"preIndex\":0,\"preParentType\":0,\"progress\":0,\"progressStyle\":\"?android:progressBarStyle\",\"scaleX\":1.0,\"scaleY\":1.0,\"spinnerMode\":1,\"text\":{\"hint\":\"\",\"hintColor\":-10453621,\"imeOption\":0,\"inputType\":1,\"line\":0,\"singleLine\":0,\"text\":\"Save data\",\"textColor\":-16777216,\"textFont\":\"default_font\",\"textSize\":12,\"textType\":0},\"translationX\":0.0,\"translationY\":0.0,\"type\":3}\n\nxml that will be generated from above json:-\n\n<LinearLayout\n    android:id=\"@+id/linear1\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:paddingLeft=\"8dp\"\n\tandroid:background=\"#FFEE58\"\n    android:orientation=\"vertical\">\n\n    <TextView\n        android:id=\"@+id/textview4\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:padding=\"8dp\"\n        android:text=\"Enter your name \"\n        android:textSize=\"12sp\"\n        android:textColor=\"#000000\" />\n\n    <EditText\n        android:id=\"@+id/edittext1\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:padding=\"8dp\"\n        android:textSize=\"12sp\"\n        android:textColor=\"#000000\"\n        android:hint=\"Name\"\n        android:textColorHint=\"#607D8B\" />\n\n    <TextView\n        android:id=\"@+id/textview5\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:padding=\"8dp\"\n        android:text=\"Select your age\"\n        android:textSize=\"12sp\"\n        android:textColor=\"#000000\" />\n\n    <SeekBar\n        android:id=\"@+id/seekbar1\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:padding=\"8dp\"\n        android:progress=\"18\" />\n\n    <Button\n        android:id=\"@+id/button2\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:padding=\"8dp\"\n        android:text=\"Save data\"\n        android:textSize=\"12sp\"\n        android:textColor=\"#000000\" />\n\n</LinearLayout>\n\n\n\nexample json 5:-\n\n{\"adSize\":\"\",\"adUnitId\":\"\",\"alpha\":1.0,\"checked\":0,\"choiceMode\":0,\"clickable\":1,\"convert\":\"ScrollView\",\"customView\":\"\",\"dividerHeight\":1,\"enabled\":1,\"firstDayOfWeek\":1,\"id\":\"vscroll1\",\"image\":{\"rotate\":0,\"scaleType\":\"CENTER\"},\"indeterminate\":\"false\",\"index\":0,\"inject\":\"\",\"layout\":{\"backgroundColor\":16777215,\"borderColor\":-16740915,\"gravity\":0,\"height\":-1,\"layoutGravity\":0,\"marginBottom\":0,\"marginLeft\":0,\"marginRight\":0,\"marginTop\":0,\"orientation\":-1,\"paddingBottom\":0,\"paddingLeft\":0,\"paddingRight\":0,\"paddingTop\":0,\"weight\":0,\"weightSum\":0,\"width\":-1},\"max\":100,\"parent\":\"root\",\"parentType\":0,\"preId\":\"vscroll1\",\"preIndex\":0,\"preParentType\":0,\"progress\":0,\"progressStyle\":\"?android:progressBarStyle\",\"scaleX\":1.0,\"scaleY\":1.0,\"spinnerMode\":1,\"text\":{\"hint\":\"\",\"hintColor\":-10453621,\"imeOption\":0,\"inputType\":1,\"line\":0,\"singleLine\":0,\"text\":\"\",\"textColor\":-16777216,\"textFont\":\"default_font\",\"textSize\":12,\"textType\":0},\"translationX\":0.0,\"translationY\":0.0,\"type\":12}\n{\"adSize\":\"\",\"adUnitId\":\"\",\"alpha\":1.0,\"checked\":0,\"choiceMode\":0,\"clickable\":1,\"convert\":\"LinearLayout\",\"customView\":\"\",\"dividerHeight\":1,\"enabled\":1,\"firstDayOfWeek\":1,\"id\":\"linear1\",\"image\":{\"rotate\":0,\"scaleType\":\"CENTER\"},\"indeterminate\":\"false\",\"index\":0,\"inject\":\"\",\"layout\":{\"backgroundColor\":16777215,\"borderColor\":-16740915,\"gravity\":0,\"height\":-2,\"layoutGravity\":0,\"marginBottom\":0,\"marginLeft\":0,\"marginRight\":0,\"marginTop\":0,\"orientation\":1,\"paddingBottom\":8,\"paddingLeft\":8,\"paddingRight\":8,\"paddingTop\":8,\"weight\":0,\"weightSum\":0,\"width\":-1},\"max\":100,\"parent\":\"vscroll1\",\"parentType\":12,\"preId\":\"linear1\",\"preIndex\":-1,\"preParent\":\"\",\"preParentType\":-1,\"progress\":0,\"progressStyle\":\"?android:progressBarStyle\",\"scaleX\":1.0,\"scaleY\":1.0,\"spinnerMode\":1,\"text\":{\"hint\":\"\",\"hintColor\":-10453621,\"imeOption\":0,\"inputType\":1,\"line\":0,\"singleLine\":0,\"text\":\"\",\"textColor\":-16777216,\"textFont\":\"default_font\",\"textSize\":12,\"textType\":0},\"translationX\":0.0,\"translationY\":0.0,\"type\":0}\n{\"adSize\":\"\",\"adUnitId\":\"\",\"alpha\":1.0,\"checked\":0,\"choiceMode\":0,\"clickable\":1,\"convert\":\"EditText\",\"customView\":\"\",\"dividerHeight\":1,\"enabled\":1,\"firstDayOfWeek\":1,\"id\":\"edittext1\",\"image\":{\"rotate\":0,\"scaleType\":\"CENTER\"},\"indeterminate\":\"false\",\"index\":0,\"inject\":\"\",\"layout\":{\"backgroundColor\":16777215,\"borderColor\":-16740915,\"gravity\":0,\"height\":-2,\"layoutGravity\":0,\"marginBottom\":0,\"marginLeft\":0,\"marginRight\":0,\"marginTop\":0,\"orientation\":-1,\"paddingBottom\":8,\"paddingLeft\":8,\"paddingRight\":8,\"paddingTop\":8,\"weight\":0,\"weightSum\":0,\"width\":-2},\"max\":100,\"parent\":\"linear1\",\"parentType\":0,\"preId\":\"\",\"preIndex\":-1,\"preParent\":\"\",\"preParentType\":-1,\"progress\":0,\"progressStyle\":\"?android:progressBarStyle\",\"scaleX\":1.0,\"scaleY\":1.0,\"spinnerMode\":1,\"text\":{\"hint\":\"Edit Text\",\"hintColor\":-10453621,\"imeOption\":0,\"inputType\":1,\"line\":0,\"singleLine\":0,\"text\":\"\",\"textColor\":-16777216,\"textFont\":\"default_font\",\"textSize\":12,\"textType\":0},\"translationX\":0.0,\"translationY\":0.0,\"type\":5}\n{\"adSize\":\"\",\"adUnitId\":\"\",\"alpha\":1.0,\"checked\":0,\"choiceMode\":0,\"clickable\":1,\"convert\":\"Button\",\"customView\":\"\",\"dividerHeight\":1,\"enabled\":1,\"firstDayOfWeek\":1,\"id\":\"button1\",\"image\":{\"rotate\":0,\"scaleType\":\"CENTER\"},\"indeterminate\":\"false\",\"index\":1,\"inject\":\"\",\"layout\":{\"backgroundColor\":16777215,\"borderColor\":-16740915,\"gravity\":0,\"height\":-2,\"layoutGravity\":0,\"marginBottom\":0,\"marginLeft\":0,\"marginRight\":0,\"marginTop\":0,\"orientation\":-1,\"paddingBottom\":8,\"paddingLeft\":8,\"paddingRight\":8,\"paddingTop\":8,\"weight\":0,\"weightSum\":0,\"width\":-2},\"max\":100,\"parent\":\"linear1\",\"parentType\":0,\"preId\":\"\",\"preIndex\":-1,\"preParent\":\"\",\"preParentType\":-1,\"progress\":0,\"progressStyle\":\"?android:progressBarStyle\",\"scaleX\":1.0,\"scaleY\":1.0,\"spinnerMode\":1,\"text\":{\"hint\":\"\",\"hintColor\":-10453621,\"imeOption\":0,\"inputType\":1,\"line\":0,\"singleLine\":0,\"text\":\"Button\",\"textColor\":-16777216,\"textFont\":\"default_font\",\"textSize\":12,\"textType\":0},\"translationX\":0.0,\"translationY\":0.0,\"type\":3}\n{\"adSize\":\"\",\"adUnitId\":\"\",\"alpha\":1.0,\"checked\":0,\"choiceMode\":0,\"clickable\":1,\"convert\":\"EditText\",\"customView\":\"\",\"dividerHeight\":1,\"enabled\":1,\"firstDayOfWeek\":1,\"id\":\"edittext2\",\"image\":{\"rotate\":0,\"scaleType\":\"CENTER\"},\"indeterminate\":\"false\",\"index\":2,\"inject\":\"\",\"layout\":{\"backgroundColor\":16777215,\"borderColor\":-16740915,\"gravity\":0,\"height\":-2,\"layoutGravity\":0,\"marginBottom\":0,\"marginLeft\":0,\"marginRight\":0,\"marginTop\":0,\"orientation\":-1,\"paddingBottom\":8,\"paddingLeft\":8,\"paddingRight\":8,\"paddingTop\":8,\"weight\":0,\"weightSum\":0,\"width\":-2},\"max\":100,\"parent\":\"linear1\",\"parentType\":0,\"preIndex\":0,\"preParentType\":0,\"progress\":0,\"progressStyle\":\"?android:progressBarStyle\",\"scaleX\":1.0,\"scaleY\":1.0,\"spinnerMode\":1,\"text\":{\"hint\":\"Edit Text\",\"hintColor\":-10453621,\"imeOption\":0,\"inputType\":1,\"line\":0,\"singleLine\":0,\"text\":\"\",\"textColor\":-16777216,\"textFont\":\"default_font\",\"textSize\":12,\"textType\":0},\"translationX\":0.0,\"translationY\":0.0,\"type\":5}\n\nxml that will be generated from above json:-\n\n<ScrollView\n  android:id=\"@+id/vscroll1\"\n  android:layout_width=\"match_parent\"\n  android:layout_height=\"match_parent\">\n\n  <LinearLayout\n    android:id=\"@+id/linear1\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:padding=\"8dp\"\n    android:orientation=\"vertical\">\n\n    <Button\n      android:id=\"@+id/button1\"\n      android:layout_width=\"wrap_content\"\n      android:layout_height=\"wrap_content\"\n      android:padding=\"8dp\"\n      android:text=\"Button\"\n      android:textSize=\"12sp\"\n      android:textColor=\"#000000\" />\n\n    <EditText\n      android:id=\"@+id/edittext1\"\n      android:layout_width=\"wrap_content\"\n      android:layout_height=\"wrap_content\"\n      android:padding=\"8dp\"\n      android:textSize=\"12sp\"\n      android:textColor=\"#000000\"\n      android:hint=\"Edit Text\"\n      android:textColorHint=\"#607D8B\" />\n\n    <EditText\n      android:id=\"@+id/edittext2\"\n      android:layout_width=\"wrap_content\"\n      android:layout_height=\"wrap_content\"\n      android:padding=\"8dp\"\n      android:textSize=\"12sp\"\n      android:textColor=\"#000000\"\n      android:hint=\"Edit Text\"\n      android:textColorHint=\"#607D8B\" />\n\n  </LinearLayout>\n\n</ScrollView>\n\n\nNow generate json for " + question + ", no explanations and documentations, just json code\n\n\n\n";

        GenerationConfig.Builder configBuilder = new GenerationConfig.Builder();
        configBuilder.temperature = 1f;
        configBuilder.topK = 1;
        configBuilder.topP = 1f;
        configBuilder.maxOutputTokens = 1000000;

        GenerationConfig generationConfig = configBuilder.build();

        // For text-only input, use the gemini-pro model
        GenerativeModel gm = new GenerativeModel("gemini-1.0-pro",
                // Paste your API key here
                apiKey, generationConfig);
        GenerativeModelFutures model = GenerativeModelFutures.from(gm);


        Content content = new Content.Builder().addText(prompt).build();


        Executor executor = Executors.newSingleThreadExecutor();
        ListenableFuture<GenerateContentResponse> response = model.generateContent(content);
        Futures.addCallback(response, new FutureCallback<>() {
            @Override
            public void onSuccess(GenerateContentResponse result) {
                String code = Objects.requireNonNull(result.getText()).trim();
                codeHiveListener.onSuccess(code);
            }

            @Override
            public void onFailure(@NonNull Throwable t) {
                t.printStackTrace();
            }
        }, executor);
    }

    public String getFirstWord(String text) {
        return text.split("\n")[0];
    }

    public interface CodeHiveListener {
        void onSuccess(String resultText);
    }
}
